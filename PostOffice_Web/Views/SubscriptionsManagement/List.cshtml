@model List<Subscription>

<div class="d-flex align-items-center flex-column">
	<h1>Данные о подписках на момент @($"{DateTime.Now:dd.MM.yyyy}").</h1>
	<div class="table-responsive">
		<table class="table table-dark table-hover table-striped table-bordered rounded-5">
			<thead>
				<td>Номер</td>
				<td>Наименование</td>
				<td>Стоимость</td>
				<td>Тип издания</td>
				<td>ФИО подписчика</td>
				<td>Длительность подписки</td>
				<td>Дата начала</td>
				<td>Состояние</td>
				<td>Действие</td>
			</thead>
			<tbody>
				@{
					var iteration = 0;
				}
				@foreach (var item in Model)
				{
					<tr data-id="@item.Id">
						<td>@(iteration + 1)</td>
						<td class="text-overflow">@item.Publication.Title</td>
						<td>@item.Publication.Cost</td>
						<td>@item.Publication.TypeOfPublication.Name</td>
						<td>@($"{item.Subscriber.Person.Surname} {item.Subscriber.Person.Name[0]}. {item.Subscriber.Person.Patronymic[0]}.")</td>
						<td>@(item.SubscriptionDuration) мес.</td>
						<td>@($"{item.StartDate:dd.MM.yyyy}")</td>
						<td id="state">@(item.SubscriptionCompleted ? "Одобрено" : "Рассматривается")</td>
						<td>
							<a  role="button" class="btn btn-outline-light approve">Одобрить</a>
							<a  role="button" class="btn btn-outline-light decline">Отклонить</a>
						</td>
					</tr>
					iteration++;
				}
			</tbody>
		</table>
	</div>
</div>

@section Scripts{
	<script src="~/js/subscriptionManagement.js"></script>
}